<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Men in Black Universe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <style>
    body { background: black; color: #eee; font-family: sans-serif; }

    /* Modal layer always on top and clickable */
    #playerModal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 99999;
    }
    #playerModal.active { display: flex; }
    #playerModal video { pointer-events: auto; max-width: 90%; max-height: 80vh; border-radius: 8px; }

    #closeModal {
      position: absolute;
      top: 20px; right: 30px;
      font-size: 2rem;
      color: #ffcc00;
      cursor: pointer;
      z-index: 100000;
    }

    .spinner {
      border: 4px solid rgba(255,204,0,0.3);
      border-radius: 50%;
      border-top: 4px solid #ffcc00;
      width: 40px; height: 40px;
      animation: spin 1s linear infinite;
      margin: 50px auto;
    }
    @keyframes spin { 0%{transform:rotate(0)}100%{transform:rotate(360deg)} }

    .movie-card:hover {
      transform: scale(1.05);
      transition: all 0.3s ease;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col">

  <!-- Header / Hero -->
  <header class="relative h-[400px] md:h-[500px] overflow-hidden">
    <iframe src="https://www.youtube.com/embed/iX2rBomAWa0?autoplay=1&mute=1&loop=1&playlist=iX2rBomAWa0&controls=0&showinfo=0&modestbranding=1"
      class="absolute top-0 left-0 w-full h-full pointer-events-none" allow="autoplay; fullscreen"></iframe>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGeAAMInTsEBPz2qzdPdVhwaUCpxahYmw9hEbtukl6KaVz1MO2lJUy5J78wCCfQmKTb4g&usqp=CAU"
      class="absolute top-4 left-4 h-20 md:h-24 animate-pulse" alt="MIB Logo"/>
  </header>

  <!-- Search -->
  <section class="container mx-auto px-4 py-6">
    <div class="relative mb-6">
      <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-yellow-400"></i>
      <input id="searchBar" type="text"
        placeholder="Search Men in Black movies..."
        class="w-full pl-12 pr-4 py-3 bg-gray-900 border-2 border-yellow-500 rounded-lg focus:ring-2 focus:ring-yellow-500 text-white placeholder-yellow-400"/>
    </div>
    <p><span id="movie-count">0</span> movies available</p>
  </section>

  <!-- Movies Grid -->
  <main class="container mx-auto px-4 pb-10 flex-grow">
    <div id="loading" class="spinner hidden"></div>
    <div id="movies" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>
  </main>

  <!-- Modal Player -->
  <div id="playerModal">
    <i id="closeModal" class="fas fa-times"></i>
    <video id="modalVideo" controls></video>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 border-t border-yellow-500 py-6 text-center text-gray-400">
    <p>Â© Men In Black Universe</p>
    <div class="flex justify-center space-x-4 mt-3">
      <a href="#" class="hover:text-yellow-400"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="hover:text-yellow-400"><i class="fab fa-twitter"></i></a>
      <a href="https://www.instagram.com/stark_4152/" class="hover:text-yellow-400"><i class="fab fa-instagram"></i></a>
      <a href="https://www.youtube.com/channel/UCYwTAs1PRVHbq4LnCHEEicw" class="hover:text-yellow-400"><i class="fab fa-youtube"></i></a>
    </div>
  </footer>

  <script>
    const movies = [
      { title: "Men in Black (1997)", video: "https://spuc.seawindphotography.space/v4/sc/n1zpb/cf-master.txt?v=1732401887", image: "https://i.ebayimg.com/images/g/hZwAAOSw4DJYlf9S/s-l400.jpg" },
      { title: "Men in Black II (2002)", video: "https://g6m5vwc8rl.halonahospitality.space/m2q5ea5w42hk/hls3/01/00365/50wjgs5uwkhs_h/master.txt", image: "https://image.tmdb.org/t/p/original/enA22EPyzc2WQ1VVyY7zxresQQr.jpg" },
      { title: "Men in Black 3 (2012)", video: "https://sh9f.northfieldtrading.shop/v4/9a/ptkkc/cf-master.txt?v=1733201820", image: "https://cdn.kinocheck.com/i/w=1200/8ihiis7t99.jpg" },
      { title: "Men in Black: International (2019)", video: "https://sg1.shegu.net/vip/p1/movie_mp4_h264/2019/1/2/14632/movie.14632.2019.1080p.H264.20190902032427.mp4", image: "https://images.squarespace-cdn.com/content/v1/537007efe4b074eafa50d65c/1566080724075-75X7QCFOWYKMF5H7DJXD/men-in-black-international-spanish-movie-poster-39-1560646358.jpg" },
    ];

    const container = document.getElementById('movies');
    const movieCount = document.getElementById('movie-count');
    const modal = document.getElementById('playerModal');
    const video = document.getElementById('modalVideo');
    const closeModalBtn = document.getElementById('closeModal');
    const searchBar = document.getElementById('searchBar');
    const loading = document.getElementById('loading');
    let currentIndex = null;

    function renderMovies(filter = '') {
      loading.classList.remove('hidden');
      container.innerHTML = '';
      const filtered = movies.filter(m => m.title.toLowerCase().includes(filter.toLowerCase()));
      filtered.forEach((movie, index) => {
        const card = document.createElement('div');
        card.className = 'movie-card bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer';
        card.innerHTML = `
          <img src="${movie.image}" alt="${movie.title}" class="w-full h-64 object-cover">
          <div class="p-3">
            <h3 class="text-yellow-400 font-bold text-sm">${movie.title}</h3>
          </div>`;
        card.addEventListener('click', () => openModal(index));
        container.appendChild(card);
      });
      movieCount.textContent = filtered.length;
      loading.classList.add('hidden');
    }

    function openModal(index) {
      currentIndex = index;
      const movie = movies[index];
      video.src = movie.video;
      video.controls = true;
      video.style.pointerEvents = 'auto';
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
      video.play().catch(()=>{});
    }

    function closeModal() {
      modal.classList.remove('active');
      video.pause();
      video.src = '';
      document.body.style.overflow = 'auto';
    }

    // close button
    closeModalBtn.addEventListener('click', closeModal);

    // click outside closes
    modal.addEventListener('click', (e) => {
      if (e.target.id === 'playerModal') closeModal();
    });

    // ESC closes
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('active')) closeModal();
    });

    // search bar
    searchBar.addEventListener('input', (e) => renderMovies(e.target.value));

    renderMovies();
  </script>
</body>
</html>
